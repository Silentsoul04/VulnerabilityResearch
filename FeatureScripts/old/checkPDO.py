import os
import re
import fileRetriever 

def checkForPDO(files):
    #regex pattern
    #pattern = re.compile("/pdo/gi")
    pattern = re.compile("[Pp][Dd][Oo]")
    #pattern = re.compile("pdo")
    
    fileSet = set()

    for fileName in files:
        with open(fileName, encoding="utf8") as file:
            for i, line in enumerate(file): #[(0, line), (1, line)]
                for match in re.finditer(pattern, line):
                    fileSet.add(fileName)
                    #print('Found on line %s: %s' % (i+1, match.span()))
            #data = file.read()
            #search for "PDO"

    print(fileSet)
        
    

if __name__ == "__main__":
    #print(getFileSet())
    fileSet = fileRetriever.getFileSet()
    checkForPDO(fileSet)
