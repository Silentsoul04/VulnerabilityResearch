import os
import re
import fileRetriever 

def checkForColon(files):
    #regex pattern
    #pattern = re.compile("[^:][:][^:]") #look for colon, but exclude "::"
    pattern = re.compile("[(][:]") # ex. (:names)
    pattern2 = re.compile("['][:]") # ex. bindParam(':names', "Smith")
    
    fileSet = set()

    for fileName in files:
        with open(fileName, encoding="utf8") as file:
            for i, line in enumerate(file): #[(0, line), (1, line)]
                for match in re.finditer(pattern, line):
                    fileSet.add(fileName)
                for match in re.finditer(pattern2, line):
                    fileSet.add(fileName)

    print(fileSet)
        
    

if __name__ == "__main__":
    fileSet = fileRetriever.getFileSet()
    checkForColon(fileSet)
